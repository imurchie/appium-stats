'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _teen_process = require('teen_process');

var _os = require('os');

var _os2 = _interopRequireDefault(_os);

function isWindows() {
  return _os2['default'].type() === 'Windows_NT';
}

function isMac() {
  return _os2['default'].type() === 'Darwin';
}

function isLinux() {
  return !isWindows() && !isMac();
}

function isOSWin64() {
  return process.arch === 'x64' || process.env.hasOwnProperty('PROCESSOR_ARCHITEW6432');
}

function arch() {
  var _ref, stdout, is64;

  return _regeneratorRuntime.async(function arch$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        if (!(isLinux() || isMac())) {
          context$1$0.next = 8;
          break;
        }

        context$1$0.next = 3;
        return _regeneratorRuntime.awrap((0, _teen_process.exec)('uname', ['-m']));

      case 3:
        _ref = context$1$0.sent;
        stdout = _ref.stdout;
        return context$1$0.abrupt('return', stdout.trim() === 'i686' ? '32' : '64');

      case 8:
        if (!isWindows()) {
          context$1$0.next = 11;
          break;
        }

        is64 = this.isOSWin64();
        return context$1$0.abrupt('return', is64 ? '64' : '32');

      case 11:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
}

exports.isWindows = isWindows;
exports.isMac = isMac;
exports.isLinux = isLinux;
exports.isOSWin64 = isOSWin64;
exports.arch = arch;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zeXN0ZW0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs0QkFBcUIsY0FBYzs7a0JBQ3BCLElBQUk7Ozs7QUFFbkIsU0FBUyxTQUFTLEdBQUk7QUFDcEIsU0FBTyxnQkFBRyxJQUFJLEVBQUUsS0FBSyxZQUFZLENBQUM7Q0FDbkM7O0FBRUQsU0FBUyxLQUFLLEdBQUk7QUFDaEIsU0FBTyxnQkFBRyxJQUFJLEVBQUUsS0FBSyxRQUFRLENBQUM7Q0FDL0I7O0FBRUQsU0FBUyxPQUFPLEdBQUk7QUFDbEIsU0FBTyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7Q0FDakM7O0FBRUQsU0FBUyxTQUFTLEdBQUc7QUFDbkIsU0FBTyxPQUFPLENBQUMsSUFBSSxLQUFLLEtBQUssSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0NBQ3ZGOztBQUVELFNBQWUsSUFBSTtZQUVWLE1BQU0sRUFHUCxJQUFJOzs7OztjQUpOLE9BQU8sRUFBRSxJQUFJLEtBQUssRUFBRSxDQUFBOzs7Ozs7eUNBQ0Qsd0JBQUssT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Ozs7QUFBckMsY0FBTSxRQUFOLE1BQU07NENBQ0osTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLE1BQU0sR0FBRyxJQUFJLEdBQUcsSUFBSTs7O2FBQ3BDLFNBQVMsRUFBRTs7Ozs7QUFDaEIsWUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUU7NENBQ3BCLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSTs7Ozs7OztDQUU1Qjs7UUFFUSxTQUFTLEdBQVQsU0FBUztRQUFFLEtBQUssR0FBTCxLQUFLO1FBQUUsT0FBTyxHQUFQLE9BQU87UUFBRSxTQUFTLEdBQVQsU0FBUztRQUFFLElBQUksR0FBSixJQUFJIiwiZmlsZSI6ImxpYi9zeXN0ZW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAndGVlbl9wcm9jZXNzJztcbmltcG9ydCBvcyBmcm9tICdvcyc7XG5cbmZ1bmN0aW9uIGlzV2luZG93cyAoKSB7XG4gIHJldHVybiBvcy50eXBlKCkgPT09ICdXaW5kb3dzX05UJztcbn1cblxuZnVuY3Rpb24gaXNNYWMgKCkge1xuICByZXR1cm4gb3MudHlwZSgpID09PSAnRGFyd2luJztcbn1cblxuZnVuY3Rpb24gaXNMaW51eCAoKSB7XG4gIHJldHVybiAhaXNXaW5kb3dzKCkgJiYgIWlzTWFjKCk7XG59XG5cbmZ1bmN0aW9uIGlzT1NXaW42NCgpIHtcbiAgcmV0dXJuIHByb2Nlc3MuYXJjaCA9PT0gJ3g2NCcgfHwgcHJvY2Vzcy5lbnYuaGFzT3duUHJvcGVydHkoJ1BST0NFU1NPUl9BUkNISVRFVzY0MzInKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYXJjaCAoKSB7XG4gIGlmIChpc0xpbnV4KCkgfHwgaXNNYWMoKSkge1xuICAgIGxldCB7c3Rkb3V0fSA9IGF3YWl0IGV4ZWMoJ3VuYW1lJywgWyctbSddKTtcbiAgICByZXR1cm4gc3Rkb3V0LnRyaW0oKSA9PT0gJ2k2ODYnID8gJzMyJyA6ICc2NCc7XG4gIH0gZWxzZSBpZiAoaXNXaW5kb3dzKCkpIHtcbiAgICBsZXQgaXM2NCA9IHRoaXMuaXNPU1dpbjY0KCk7XG4gICAgcmV0dXJuIGlzNjQgPyAnNjQnIDogJzMyJztcbiAgfVxufVxuXG5leHBvcnQgeyBpc1dpbmRvd3MsIGlzTWFjLCBpc0xpbnV4LCBpc09TV2luNjQsIGFyY2ggfTtcbiJdfQ==